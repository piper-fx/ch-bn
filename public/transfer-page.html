<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pay & Transfer</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        /* Shared Styles */
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; margin: 0; background-color: #f4f5f8; color: #333; padding-bottom: 80px; }
        .app-header { background-color: #005eb8; color: white; padding: 1rem; position: sticky; top: 0; z-index: 10; }
        .header-top { display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem; font-size: 1.2rem; }
        .header-greeting h1 { margin: 0; font-size: 1.1rem; font-weight: 600; }
        .dashboard-content { padding: 1rem; }
        .services-list { list-style: none; padding: 0; margin: 0; background-color: white; border-radius: 8px; box-shadow: 0 1px 3px rgba(0,0,0,0.1); }
        .services-list li { display: flex; align-items: center; padding: 1.2rem 1rem; border-bottom: 1px solid #f0f0f0; cursor: pointer; transition: background 0.1s; }
        .services-list li:active { background-color: #f9f9f9; }
        .service-icon { font-size: 1.3rem; color: #005eb8; margin-right: 1.2rem; width: 24px; text-align: center; }
        .service-details h3 { margin: 0; font-size: 1rem; font-weight: 600; }
        .service-details p { margin: 4px 0 0 0; font-size: 0.8rem; color: #666; }
        .bottom-nav { position: fixed; bottom: 0; left: 0; width: 100%; background-color: white; display: flex; justify-content: space-around; padding: 8px 0; border-top: 1px solid #e0e0e0; z-index: 1000; }
        .nav-item { display: flex; flex-direction: column; align-items: center; text-decoration: none; color: #666; font-size: 11px; width: 25%; }
        .nav-item i { font-size: 20px; margin-bottom: 4px; }
        .nav-item.active { color: #005eb8; }
        .nav-item.active i { color: #005eb8; }

        /* Modal Styles */
        .modal { display: none; position: fixed; z-index: 2000; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.5); }
        .modal-content { background-color: #fff; position: absolute; bottom: 0; left: 0; width: 100%; border-radius: 12px 12px 0 0; padding: 20px; max-height: 90vh; overflow-y: auto; box-sizing: border-box; }
        @media(min-width: 768px) { .modal-content { width: 400px; left: 50%; top: 50%; transform: translate(-50%, -50%); bottom: auto; border-radius: 12px; } }
        
        .form-group { margin-bottom: 1.2rem; }
        .form-label { display: block; font-size: 0.85rem; color: #555; margin-bottom: 0.5rem; }
        .form-input, .form-select { width: 100%; padding: 12px; border: 1px solid #ccc; border-radius: 6px; font-size: 1rem; box-sizing: border-box; }
        .btn-primary { width: 100%; background-color: #005eb8; color: white; border: none; padding: 14px; border-radius: 6px; font-size: 1rem; font-weight: 600; cursor: pointer; margin-top: 1rem; }
        .btn-danger { background-color: #c41e3a; }

        /* Receipt */
        .receipt-container { text-align: center; padding: 10px; }
        .receipt-icon { color: #008844; font-size: 3rem; margin-bottom: 15px; }
        .receipt-amount { font-size: 2rem; font-weight: bold; margin: 10px 0; }
        .receipt-details { text-align: left; background: #f9f9f9; padding: 15px; border-radius: 8px; margin-top: 15px; font-size: 0.9rem; }
        .receipt-row { display: flex; justify-content: space-between; margin-bottom: 8px; border-bottom: 1px solid #eee; padding-bottom: 8px; }
    </style>
</head>
<body>

    <header class="app-header">
        <div class="header-top">
            <a href="user-dashboard.html" style="color: white;"><i class="fas fa-arrow-left"></i></a>
            <div><a href="profile.html" style="color: white;"><i class="far fa-user-circle"></i></a></div>
        </div>
        <div class="header-greeting"><h1>Pay & Transfer</h1></div>
    </header>

    <main class="dashboard-content">
        <ul class="services-list">
            <li onclick="openTransfer('chase')">
                <i class="fas fa-university service-icon"></i>
                <div class="service-details"><h3>Transfer to Chase Bank</h3><p>Instant internal transfer</p></div>
            </li>
            <li onclick="openTransfer('other')">
                <i class="fas fa-landmark service-icon"></i>
                <div class="service-details"><h3>Transfer to Other Bank</h3><p>ACH & External</p></div>
            </li>
            <li onclick="openTransfer('zelle')">
                <span class="service-icon" style="font-weight: 800; font-family: sans-serif; color: #6d1ed4;">Z</span>
                <div class="service-details"><h3>ZelleÂ®</h3><p>Send money to friends</p></div>
            </li>
            <li onclick="openTransfer('wire')">
                <i class="fas fa-globe service-icon"></i>
                <div class="service-details"><h3>Wire Transfer</h3><p>Domestic & International</p></div>
            </li>
        </ul>
    </main>

    <nav class="bottom-nav">
        <a href="user-dashboard.html" class="nav-item"><i class="fas fa-wallet"></i><span>Accounts</span></a>
        <a href="transfer-page.html" class="nav-item active"><i class="fas fa-exchange-alt"></i><span>Pay & transfer</span></a>
        <a href="#" class="nav-item"><i class="fas fa-clipboard-list"></i><span>Plan & track</span></a>
        <a href="#" class="nav-item"><i class="fas fa-chart-line"></i><span>Investments</span></a>
    </nav>

    <!-- 1. Input Modal -->
    <div id="transferModal" class="modal">
        <div class="modal-content">
            <div style="display:flex; justify-content:space-between; align-items:center;">
                <h2 id="modalTitle" style="color:#005eb8;">Transfer</h2>
                <span onclick="closeModals()" style="font-size:24px; cursor:pointer;">&times;</span>
            </div>
            <form id="transferForm" style="margin-top:15px;">
                <div class="form-group">
                    <label class="form-label">Amount</label>
                    <input type="number" id="txAmount" class="form-input" placeholder="0.00" required>
                </div>
                <div id="dynamicFields"></div>
                <button type="submit" class="btn-primary">Confirm & Send</button>
            </form>
        </div>
    </div>

    <!-- 2. Auth (IMF) Modal -->
    <div id="authModal" class="modal">
        <div class="modal-content">
            <h2 style="color:#eab308; text-align:center; margin-bottom:10px;"><i class="fas fa-lock"></i> Verification</h2>
            <p style="text-align:center; color:#555; margin-bottom:20px;">
                Please enter the <strong id="authNameDisplay">Code</strong> to proceed.
            </p>
            <div class="form-group">
                <input type="text" id="imfCodeInput" class="form-input" placeholder="Enter Code" style="text-align:center; letter-spacing:2px; font-weight:bold;">
            </div>
            <button onclick="submitAuthCode()" class="btn-primary">Verify & Send</button>
            <button onclick="closeModals()" style="width:100%; background:white; color:#666; border:1px solid #ccc; padding:12px; margin-top:10px; border-radius:6px;">Cancel</button>
        </div>
    </div>

    <!-- 3. Blocked/Frozen Modal -->
    <div id="blockedModal" class="modal">
        <div class="modal-content">
            <h2 style="color:#c41e3a; text-align:center; margin-bottom:10px;"><i class="fas fa-ban"></i> Access Restricted</h2>
            <p style="text-align:center; color:#555; margin-bottom:20px; line-height: 1.5;">
                Account frozen, contact live chat support for more information.
            </p>
            <button onclick="closeModals()" class="btn-primary btn-danger">Close</button>
        </div>
    </div>

    <!-- 4. Receipt Modal -->
    <div id="receiptModal" class="modal">
        <div class="modal-content">
            <div class="receipt-container">
                <i class="fas fa-check-circle receipt-icon"></i>
                <h2 style="margin:0;">Transfer Successful</h2>
                <div class="receipt-amount" id="recAmount">$0.00</div>
                <p style="color:#666;">Transaction Completed</p>
                <div class="receipt-details">
                    <div class="receipt-row"><span>Sent To:</span> <strong id="recRecipient">...</strong></div>
                    <div class="receipt-row"><span>Date:</span> <span id="recDate">...</span></div>
                    <div class="receipt-row" style="border:none;"><span>Ref ID:</span> <span id="recRef">...</span></div>
                </div>
                <button onclick="window.location.href='user-dashboard.html'" class="btn-primary">Done</button>
            </div>
        </div>
    </div>

    <script src="transfer-page.js"></script>
</body>
</html>


